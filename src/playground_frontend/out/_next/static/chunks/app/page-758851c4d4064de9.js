(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1808:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var o=r(4568),n=r(7620),l=r(4615),a=r(2991),i=r(7383);let s=e=>{let{methodInfo:t,inputBoxes:r,loading:n,errors:l,results:a,onMethodCall:i}=e,[s,d]=t,c=d.argTypes.length>0,u=d.annotations.includes("query");return(0,o.jsxs)("div",{style:{padding:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#f8f9fa",marginBottom:"10px"},children:[(0,o.jsx)("div",{style:{marginBottom:"10px"},children:(0,o.jsx)("h4",{style:{margin:"0 0 5px 0"},children:(e=>{let[t,r]=e,o=r.argTypes.map(e=>e.name.toLowerCase()).join(", ");return"".concat(t,"(").concat(o,")")})(t)})}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[c&&(e=>{let[t,n]=e,l=r[t]||[];return(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:l.map((e,t)=>(0,o.jsx)("div",{ref:t=>{t&&!t.hasChildNodes()&&e.render(t)}},t))})})(t),(0,o.jsx)("button",{onClick:()=>i(s),disabled:n[s],style:{padding:"8px 16px",backgroundColor:u?"#4caf50":"#2196f3",color:"white",border:"none",borderRadius:"4px",cursor:n[s]?"not-allowed":"pointer",opacity:n[s]?.7:1,minWidth:"100px",alignSelf:"flex-start"},children:n[s]?"Calling...":u?"Query":"Call"})]}),l[s]&&(0,o.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"4px"},children:["Error: ",l[s]]}),null!==a[s]&&(0,o.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e8f5e9",borderRadius:"4px"},children:["Result: ",JSON.stringify(a[s],(e,t)=>"bigint"==typeof t?t.toString():t)]})]})},d=e=>{let{methods:t,inputBoxes:r,loading:l,errors:a,results:i,onMethodCall:d}=e,[c,u]=(0,n.useState)("query"),p=t.filter(e=>{let[t,r]=e;return r.annotations.includes("query")}),g=t.filter(e=>{let[t,r]=e;return!r.annotations.includes("query")});return(0,o.jsxs)("div",{style:{marginTop:"20px"},children:[(0,o.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:"1px solid #e0e0e0",paddingBottom:"10px"},children:[(0,o.jsxs)("button",{onClick:()=>u("query"),style:{padding:"8px 16px",backgroundColor:"query"===c?"#4caf50":"#e0e0e0",color:"query"===c?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Query Methods (",p.length,")"]}),(0,o.jsxs)("button",{onClick:()=>u("update"),style:{padding:"8px 16px",backgroundColor:"update"===c?"#2196f3":"#e0e0e0",color:"update"===c?"white":"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:["Update Methods (",g.length,")"]})]}),(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:"query"===c?p.map(e=>(0,o.jsx)(s,{methodInfo:e,inputBoxes:r,loading:l,errors:a,results:i,onMethodCall:d},e[0])):g.map(e=>(0,o.jsx)(s,{methodInfo:e,inputBoxes:r,loading:l,errors:a,results:i,onMethodCall:d},e[0]))})]})},c=()=>{let[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)([]),[c,u]=(0,n.useState)({}),[p,g]=(0,n.useState)({}),[x,h]=(0,n.useState)({}),[f,y]=(0,n.useState)({});(0,n.useEffect)(()=>{let e=async()=>{try{let e=l.Actor.interfaceOf(i.Dc)._fields.sort((e,t)=>{let[r]=e,[o]=t;return r>o?1:-1});s(e);let t={};e.forEach(e=>{let[r,o]=e;o.argTypes.length>0&&(t[r]=o.argTypes.map(e=>(0,a.renderInput)(e)))}),y(t)}catch(e){console.error("Failed to initialize actor:",e)}};t(!0),e()},[]);let m=async e=>{if(!i.Dc)return void g(t=>({...t,[e]:"Actor not initialized"}));h(t=>({...t,[e]:!0})),g(t=>({...t,[e]:null})),u(t=>({...t,[e]:null}));try{let t=f[e]||[],r=t.map(e=>e.parse());if(t.some(e=>e.isRejected()))throw Error("Invalid input values");let o=await i.Dc[e](...r);u(t=>({...t,[e]:o}))}catch(t){g(r=>({...r,[e]:t instanceof Error?t.message:"Unknown error"}))}finally{h(t=>({...t,[e]:!1}))}};return e&&i.Dc?(0,o.jsx)(d,{methods:r,inputBoxes:f,loading:x,errors:p,results:c,onMethodCall:m}):(0,o.jsx)("div",{children:"Loading..."})}},2905:(e,t,r)=>{Promise.resolve().then(r.bind(r,4232)),Promise.resolve().then(r.bind(r,1808))},4232:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var o=r(4568),n=r(7620),l=r(5993),a=r(7383);let{useActorStore:i,useAuth:s,useQueryCall:d,useUpdateCall:c}=(0,l.createReactor)({canisterId:"uxrrr-q7777-77774-qaaaq-cai",idlFactory:a.co,withLocalEnv:!0}),u=()=>{let[e,t]=(0,n.useState)(!1),{call:r,data:l}=d({functionName:"getCount",args:[],refetchOnMount:!0,refetchInterval:5e3});return((0,n.useEffect)(()=>{t(!0)},[]),e)?(0,o.jsx)("div",{style:{marginTop:"20px"},children:(0,o.jsxs)("h2",{children:["Counter: ",void 0!==l?Number(l):"Loading..."]})}):(0,o.jsx)("div",{style:{marginTop:"20px"},children:"Loading..."})}},7383:(e,t,r)=>{"use strict";r.d(t,{co:()=>n,Dc:()=>a});var o=r(4615);let n=e=>{let{IDL:t}=e,r=t.Variant({A:t.Null,B:t.Null,C:t.Null,D:t.Null,F:t.Null}),o=t.Record({id:t.Nat,name:t.Text,lastUpdated:t.Int,grade:r});return t.Service({addStudent:t.Func([t.Text,r],[o],[]),getCount:t.Func([],[t.Nat],["query"]),getStudent:t.Func([t.Nat],[t.Opt(o)],["query"]),getStudentsByGrade:t.Func([r],[t.Vec(o)],["query"]),greetWithYearOfBirth:t.Func([t.Text,t.Nat],[t.Text],[]),increment:t.Func([],[t.Nat],[]),updateGrade:t.Func([t.Nat,r],[t.Opt(o)],[])})},l="uxrrr-q7777-77774-qaaaq-cai";console.log("==============DEBUG NOBODY==============="),console.log("local"),console.log("uxrrr-q7777-77774-qaaaq-cai"),console.log("==============DEBUG NOBODY===============");let a=l?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.agent||new o.HttpAgent({...t.agentOptions,host:"http://localhost:4943"});return console.log("==============DEBUG NOBODY==============="),console.log(e,r),console.log("==============DEBUG NOBODY==============="),t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(e=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(e)}),o.Actor.createActor(n,{agent:r,canisterId:e,...t.actorOptions})}(l):void 0}},e=>{var t=t=>e(e.s=t);e.O(0,[993,587,315,358],()=>t(2905)),_N_E=e.O()}]);